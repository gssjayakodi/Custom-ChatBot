<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Demo E-Commerce Site with AI Chatbot</title>
  <style>
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #f0f2f5;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    header {
      background: linear-gradient(135deg, #667eea, #764ba2);
      color: white;
      padding: 25px 20px;
      text-align: center;
      font-weight: 600;
      font-size: 2rem;
      box-shadow: 0 3px 10px rgba(0, 0, 0, 0.15);
    }

    main {
      flex: 1;
      padding: 30px 20px;
      max-width: 1200px;
      margin: 0 auto;
    }

    .intro-text {
      font-size: 1.2rem;
      color: #444;
      margin-bottom: 30px;
      text-align: center;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
      line-height: 1.5;
    }


    /* Footer */
    footer {
      background: #333;
      color: #eee;
      text-align: center;
      padding: 15px 20px;
      font-size: 0.9rem;
      user-select: none;
      margin-top: auto;
    }

    /* --- Chatbot Floating Button --- */
    .chat-toggle {
      position: fixed;
      bottom: 30px;
      right: 30px;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: linear-gradient(135deg, #667eea, #764ba2);
      border: none;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
      transition: all 0.3s ease;
      z-index: 1000;
    }

    .chat-toggle:hover {
      transform: scale(1.1);
      box-shadow: 0 6px 25px rgba(0, 0, 0, 0.4);
    }

    .chat-toggle svg {
      width: 24px;
      height: 24px;
      fill: white;
    }

    /* --- Chat Window --- */
    .chat-window {
      position: fixed;
      bottom: 100px;
      right: 30px;
      width: 380px;
      height: 500px;
      background: white;
      border-radius: 15px;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
      display: none;
      flex-direction: column;
      overflow: hidden;
      z-index: 999;
      animation: slideUp 0.3s ease;
    }

    @keyframes slideUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .chat-header {
      background: linear-gradient(135deg, #667eea, #764ba2);
      color: white;
      padding: 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .chat-header h3 {
      margin: 0;
      font-weight: 500;
    }

    .chat-close {
      background: none;
      border: none;
      color: white;
      font-size: 20px;
      cursor: pointer;
      padding: 5px;
      border-radius: 50%;
      transition: background 0.2s;
    }

    .chat-close:hover {
      background: rgba(255, 255, 255, 0.2);
    }

    .chat-messages {
      flex: 1;
      overflow-y: auto;
      padding: 20px;
      background: #f8f9fa;
    }

    .message {
      margin-bottom: 15px;
      display: flex;
      animation: fadeIn 0.3s ease;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .message.bot {
      justify-content: flex-start;
    }

    .message.user {
      justify-content: flex-end;
    }

    .message-bubble {
      max-width: 80%;
      padding: 12px 16px;
      border-radius: 18px;
      font-size: 14px;
      line-height: 1.4;
      word-wrap: break-word;
    }

    .message.bot .message-bubble {
      background: white;
      color: #333;
      border-bottom-left-radius: 4px;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    }

    .message.user .message-bubble {
      background: linear-gradient(135deg, #667eea, #764ba2);
      color: white;
      border-bottom-right-radius: 4px;
    }

    .chat-input-container {
      padding: 20px;
      background: white;
      border-top: 1px solid #eee;
      display: flex;
      gap: 10px;
    }

    .chat-input {
      flex: 1;
      border: 1px solid #ddd;
      border-radius: 25px;
      padding: 12px 20px;
      font-size: 14px;
      outline: none;
      transition: border-color 0.2s;
    }

    .chat-input:focus {
      border-color: #667eea;
    }

    .chat-send {
      background: linear-gradient(135deg, #667eea, #764ba2);
      border: none;
      border-radius: 50%;
      width: 45px;
      height: 45px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: transform 0.2s;
    }

    .chat-send:hover {
      transform: scale(1.05);
    }

    .chat-send svg {
      width: 20px;
      height: 20px;
      fill: white;
    }

    .typing-indicator {
      display: none;
      align-items: center;
      gap: 8px;
      color: #666;
      font-style: italic;
      margin-bottom: 15px;
      padding-left: 20px;
    }

    .typing-dots {
      display: flex;
      gap: 3px;
    }

    .typing-dot {
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: #666;
      animation: typing 1.4s infinite;
    }

    .typing-dot:nth-child(1) {
      animation-delay: 0s;
    }
    .typing-dot:nth-child(2) {
      animation-delay: 0.2s;
    }
    .typing-dot:nth-child(3) {
      animation-delay: 0.4s;
    }

    @keyframes typing {
      0%,
      60%,
      100% {
        transform: translateY(0);
      }
      30% {
        transform: translateY(-10px);
      }
    }

    /* Responsive */
    @media (max-width: 480px) {
      .chat-window {
        width: calc(100vw - 20px);
        height: calc(100vh - 120px);
        right: 10px;
        bottom: 80px;
      }
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header>
    Your Website Name
  </header>

  <!-- Main content -->
  <main>
    <p class="intro-text"> Your Website Content Goes Here </p>
    <h2>Just click the chat bubble at bottom right to ask our AI assistant.</h2>

    
  </main>

  
  <footer>
    Â© 2025 Your Website. All rights reserved. | Demo website content goes here.
  </footer>

  
  <button class="chat-toggle" id="chatToggle" style="display: none;">
    <svg viewBox="0 0 24 24">
      <path
        d="M20 2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h4l4 4 4-4h4c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"
      />
    </svg>
  </button>

  
  <div class="chat-window" id="chatWindow">
    <div class="chat-header">
      <h3> AI Assistant</h3>
      <button class="chat-close" id="chatClose">Ã—</button>
    </div>
    <div class="chat-messages" id="floatingChatMessages">
      <div class="message bot">
        <div class="message-bubble">
          Hello! I'm your AI assistant. How can I help you today?
        </div>
      </div>
    </div>
    <div class="typing-indicator" id="floatingTypingIndicator">
      <span>AI is typing</span>
      <div class="typing-dots">
        <div class="typing-dot"></div>
        <div class="typing-dot"></div>
        <div class="typing-dot"></div>
      </div>
    </div>
    <div class="chat-input-container">
      <input
        type="text"
        class="chat-input"
        id="floatingChatInput"
        placeholder="Type your message..."
      />
      <button class="chat-send" id="floatingSendButton">
        <svg viewBox="0 0 24 24">
          <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z" />
        </svg>
      </button>
    </div>
  </div>

  <script>
    class AIChatbot {
      constructor() {
        this.isFloatingMode = false;
        this.conversationHistory = [];
        this.knowledgeBase = {
          // Business Information
          business: {
            name: "Your website",
            description:
              "We provide top-quality products and fast delivery across Sri Lanka.",
            hours: "Monday - Saturday: 8AM to 8PM (Sri Lanka Standard Time)",
            contact: "support@yourcompany.lk | +94 77 123 4567",
            location: "No. 123, Colombo Road, Colombo, Sri Lanka",
          },

          // FAQ Responses
          faqs: {
            // Payments
            "payment|pay|billing|cash on delivery|cod|ez cash|bank transfer|mobile payment":
              "We accept Cash on Delivery (COD) nationwide, eZ Cash, bank transfers, and all major credit/debit cards securely.",

            // Shipping and delivery
            "shipping|delivery|ship|courier|domex|pickme|sl post|tracking|order status|track order":
              "We deliver island-wide via trusted courier services like Domex, PickMe Delivery, and Sri Lanka Post. You can track your order using the tracking number sent via SMS or email.",

            // Returns and refunds
            "return|refund|exchange|cancel order|return policy|refund policy":
              "You can return items within 7 days of delivery in original condition. For cancellations or exchanges, please contact our support team promptly.",

            // Discounts and offers
            "discount|offer|sale|promo|coupon|voucher":
              "We regularly run special promotions during Sinhala & Tamil New Year and other festivals. Stay tuned to our website and social media for the latest deals.",

            // VAT and taxes
            "tax|vat|price includes vat":
              "All prices include the applicable VAT as per Sri Lankan government regulations.",

            // Account and login issues
            "account|login|password|reset password":
              "If you forgot your password, use the 'Forgot Password' link on the login page or contact support for help.",

            // Customer support
            "support|help|contact|customer service|call center":
              "Our customer support is available Monday to Saturday, 8AM to 8PM Sri Lanka time. Reach us at support@yourcompany.lk or +94 77 123 4567.",

            // Order cancellation and modification
            "cancel order|change order|modify order":
              "Orders can be modified or canceled within 1 hour of placing them. Please contact support immediately for assistance.",

            // Payment confirmation delay
            "payment confirmation|paid but order not confirmed":
              "Payments via bank transfer or eZ Cash may take up to 24 hours to confirm. If it takes longer, please contact support with your payment details.",

            // Sinhala / Tamil keywords (transliterated)
            "mudu|mudal|cash|payment|kramaya":
              "à¶…à¶´à·’à¶§ à¶¸à·”à¶¯à¶½à·Š à¶œà·™à·€à·“à¶¸à·Š à·€à·à¶ºà·™à¶±à·Š Cash on Delivery (COD), eZ Cash à·ƒà·„ à¶¶à·à¶‚à¶šà·” à¶¸à·à¶»à·” à¶…à¶­à·Šâ€à¶ºà·€à·à·Šâ€à¶º à·ƒà·šà·€à·à·€à¶±à·Š à¶½à¶¶à· à¶¯à·š.",

            "velÄwÄ|delivery|jathika|post":
              "à¶…à¶´à·’ à·à·Šâ€à¶»à·“ à¶½à¶‚à¶šà· à¶´à·”à¶»à· à·€à·’à·à·Šà·€à·ƒà¶±à·“à¶º courier à·ƒà·šà·€à·à·€à¶±à·Š à·ƒà¶¸à¶Ÿ à¶·à·à¶«à·Šà¶© à¶¶à·™à¶¯à· à·„à·à¶»à·“à¶¸ à·ƒà·’à¶¯à·” à¶šà¶»à¶¸à·”.",

            // Thank you / Appreciation
            "thank you|thanks|thank u|tnx|thx":
            "You're very welcome! ðŸ˜Š If you have more questions, feel free to ask anytime."

          },
        };
      }

      // Normalize message for keyword checking
      normalizeMessage(msg) {
        return msg.toLowerCase();
      }

      getResponse(message) {
        const msg = this.normalizeMessage(message);

        // Location question
        if (
          msg.includes("location") ||
          msg.includes("address") ||
          msg.includes("where are you")
        ) {
          return this.knowledgeBase.business.location;
        }

        // Payment questions
        if (
          msg.includes("cash on delivery") ||
          msg.includes("cod") ||
          msg.includes("ez cash") ||
          msg.includes("mobile payment")
        ) {
          return this.knowledgeBase.faqs[
            "payment|pay|billing|cash on delivery|cod|ez cash|bank transfer|mobile payment"
          ];
        }

        // Delivery questions
        if (
          msg.includes("domex") ||
          msg.includes("pickme") ||
          msg.includes("sri lanka post") ||
          msg.includes("courier") ||
          msg.includes("delivery") ||
          msg.includes("track")
        ) {
          return this.knowledgeBase.faqs[
            "shipping|delivery|ship|courier|domex|pickme|sl post|tracking|order status|track order"
          ];
        }

        // Returns and refunds
        if (
          msg.includes("return") ||
          msg.includes("refund") ||
          msg.includes("exchange") ||
          msg.includes("cancel order")
        ) {
          return this.knowledgeBase.faqs[
            "return|refund|exchange|cancel order|return policy|refund policy"
          ];
        }

        // Discounts and offers
        if (
          msg.includes("discount") ||
          msg.includes("offer") ||
          msg.includes("sale") ||
          msg.includes("promo")
        ) {
          return this.knowledgeBase.faqs[
            "discount|offer|sale|promo|coupon|voucher"
          ];
        }

        // VAT / taxes
        if (msg.includes("vat") || msg.includes("tax")) {
          return this.knowledgeBase.faqs["tax|vat|price includes vat"];
        }

        // Account / login
        if (
          msg.includes("account") ||
          msg.includes("login") ||
          msg.includes("password") ||
          msg.includes("reset password")
        ) {
          return this.knowledgeBase.faqs["account|login|password|reset password"];
        }

        // Support hours
        if (
          msg.includes("support") ||
          msg.includes("help") ||
          msg.includes("customer service") ||
          msg.includes("call center")
        ) {
          return this.knowledgeBase.faqs[
            "support|help|contact|customer service|call center"
          ];
        }

        // Order cancel/modify
        if (
          msg.includes("cancel order") ||
          msg.includes("modify order") ||
          msg.includes("change order")
        ) {
          return this.knowledgeBase.faqs[
            "cancel order|change order|modify order"
          ];
        }

        // Payment confirmation delay
        if (
          msg.includes("payment confirmation") ||
          msg.includes("paid but order not confirmed")
        ) {
          return this.knowledgeBase.faqs[
            "payment confirmation|paid but order not confirmed"
          ];
        }

        // Sinhala / Tamil transliterations keywords
        if (msg.match(/mudu|mudal|cash|payment|kramaya|velÄwÄ|delivery|jathika|post/)) {
          // Return a combined response
          return "à¶…à¶´à·’ à·à·Šâ€à¶»à·“ à¶½à¶‚à¶šà·à·€à·š Cash on Delivery (COD), eZ Cash, à¶¶à·à¶‚à¶šà·” à¶¸à·à¶»à·” à·ƒà·„ à·€à·’à·à·Šà·€à·ƒà¶±à·“à¶º courier à·ƒà·šà·€à·à·€à¶±à·Š à·ƒà¶¸à¶Ÿ à¶”à¶¶à¶§ à¶‹à·ƒà·ƒà·Š à·ƒà·šà·€à·à·€à¶±à·Š à·ƒà¶´à¶ºà¶¸à·”.";
        }

        // Fallback: match from FAQ patterns (existing logic)
        for (const [pattern, response] of Object.entries(this.knowledgeBase.faqs)) {
          const keywords = pattern.split("|");
          if (keywords.some((keyword) => msg.includes(keyword))) {
            return response;
          }
        }

        // Default fallback response
        const fallbackResponses = [
          "That's an interesting question! While I may not have specific information about that topic, please contact us at " +
            this.knowledgeBase.business.contact +
            " for detailed assistance.",
          "I want to make sure I give you the most accurate information. Please reach out to our team at " +
            this.knowledgeBase.business.contact,
          "For comprehensive details, please contact our support at " +
            this.knowledgeBase.business.contact,
          "Please contact our specialists at " +
            this.knowledgeBase.business.contact +
            " for the most up-to-date information.",
        ];

        return fallbackResponses[Math.floor(Math.random() * fallbackResponses.length)];
      }
    }

    
    const chatbot = new AIChatbot();

    const chatToggle = document.getElementById("chatToggle");
    const chatWindow = document.getElementById("chatWindow");
    const chatClose = document.getElementById("chatClose");
    const messagesContainer = document.getElementById("floatingChatMessages");
    const chatInput = document.getElementById("floatingChatInput");
    const sendButton = document.getElementById("floatingSendButton");
    const typingIndicator = document.getElementById("floatingTypingIndicator");

    
    window.onload = () => {
      chatToggle.style.display = "flex";
    };

    
    chatToggle.addEventListener("click", () => {
      chatWindow.style.display = "flex";
      chatToggle.style.display = "none";
      chatInput.focus();
    });

    chatClose.addEventListener("click", () => {
      chatWindow.style.display = "none";
      chatToggle.style.display = "flex";
    });

    
    function appendMessage(text, sender = "bot") {
      const messageEl = document.createElement("div");
      messageEl.classList.add("message", sender);

      const bubble = document.createElement("div");
      bubble.classList.add("message-bubble");
      bubble.textContent = text;

      messageEl.appendChild(bubble);
      messagesContainer.appendChild(messageEl);
      messagesContainer.scrollTop = messagesContainer.scrollHeight;
    }

    
    function respondToUser(userText) {
      appendMessage(userText, "user");
      chatInput.value = "";
      chatInput.disabled = true;
      sendButton.disabled = true;
      typingIndicator.style.display = "flex";

      setTimeout(() => {
        const response = chatbot.getResponse(userText);
        typingIndicator.style.display = "none";
        appendMessage(response, "bot");
        chatInput.disabled = false;
        sendButton.disabled = false;
        chatInput.focus();
      }, 1200 + Math.random() * 1000);
    }

    
    sendButton.addEventListener("click", () => {
      const userText = chatInput.value.trim();
      if (!userText) return;
      respondToUser(userText);
    });

    chatInput.addEventListener("keydown", (e) => {
      if (e.key === "Enter") {
        e.preventDefault();
        sendButton.click();
      }
    });
  </script>
</body>
</html>
